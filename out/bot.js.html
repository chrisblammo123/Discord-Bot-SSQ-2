<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: bot.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: bot.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 * Discord Bot invite link
 * https://discordapp.com/oauth2/authorize?client_id=507957137465540629&amp;scope=bot&amp;permissions=470019159
 */


// Variables

const ssq = require('ssq');					// Interfaces with Source servers
// const Discord = require('discord.js');				// Discord bot API
// const client = new Discord.Client();				// Discord bot client

const serverinfo = require('./server.json');		// Info relating to the target server
const config = require('./config.json');			// Info relating to the bot configuration

// Initialization

// Set ssq timeout to 2000ms (DEFAULT)
// ssq.set_timeout(2000);


// Define Wrapper Functions

/**
 * Object returned by ssq.players()
 * @typedef {Object} PlayerInfo
 * @property {number} index Always 0 (from what I can tell)
 * @property {string} name Username of the player
 * @property {number} score Player score (integer)
 * @property {number} duration Time on the server in seconds (float)
 */

/**
 * Returns array of PlayerInfo objects
 * @param {string} [ip = serverinfo.serverip] Server ip
 * @param {number} [port = serverinfo.serverport] Server port
 * @return {PlayerInfo[]} Array of PlayerInfo objects
 */
getPlayerList = (ip = serverinfo.serverip, port = serverinfo.serverport) => {
	ssq.players(ip, port, (err, data) => {
		console.log('Pinging server ...\n' + data)
		console.log(data[1])
		console.error(err)
	});
}

// Main
switch('players')
{
	case 'test':
	case 'ping':
		ssq.ping(serverinfo.serverip, serverinfo.serverport, (err, data) => {
			console.log('Pinging server ...\n' + data)
			console.error(err)
		});
		break;
	case 'server':
	case 'status':
		ssq.info(serverinfo.serverip, serverinfo.serverport, (err, data) => {
			console.log('Pinging server ...\n' + data)
			console.log(data[servername])
			// console.error(err)
		});
		break;
	case 'players':
	case 'playerlist':
		
		ssq.players(serverinfo.serverip, serverinfo.serverport, (err, data) => {
			console.log('Pinging server ...\n' + data)
			console.log(data[1])
			console.error(err)
		});
		break;
	case 'help':
	case 'info':
	case 'cmds':
		break;
	default:
		break;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getPlayerList">getPlayerList</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed May 10 2023 03:41:42 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
